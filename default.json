{
  "automerge": false,
  "branchPrefix": "renovate/",
  "extends": [
    "group:monorepos",
    "group:recommended"
  ],
  "ignoreUnstable": true,
  "lockFileMaintenance": {
    "enabled": true,
    "automerge": true
  },
  "packageRules": [
    {
      "matchDatasources": ["docker"],
      "matchPackageNames": ["python"],
      "versioning": "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(?<prerelease>[^.-]+)?(-(?<compatibility>.*))?$"
    }, {
      "matchManagers": ["poetry"],
      "versioning": "poetry"
    }, {
      "matchDatasources": ["orb"],
      "rangeStrategy": "replace",
      "patch": {
        "enabled": false
      }
    }, {
      "matchManagers": ["poetry"],
      "matchDepTypes": ["dependencies"],
      "matchDepPatterns": ["^python$"],
      "rangeStrategy": "widen"
    }, {
      "matchDepTypes": ["build-system.requires"],
      "rangeStrategy": "widen"
    }, {
      "matchDepTypes": ["dev", "devDependencies"],
      "rangeStrategy": "pin"
    }, {
      "matchManagers": ["maven"],
      "matchDepPatterns": ["^com.google.auto.value"],
      "groupName": "com.google.auto.value packages"
    }, {
      "matchDatasources": ["pypi"],
      "matchDepPatterns": ["^grpcio"],
      "groupName": "grpcio"
    }, {
      "matchDatasources": ["terraform"],
      "matchDepPatterns": ["^google"],
      "groupName": "google"
    }, {
      "matchManagers": ["terraform"],
      "matchDepPatterns": ["^google"],
      "groupName": "google"
    }, {
      "matchPackageNames": ["hashicorp/terraform", "terraform"],
      "groupName": "terraform"
    }, {
      "matchPackageNames": ["sanic", "sanic-testing"],
      "groupName": "sanic"
    }, {
      "matchDepPatterns": ["^torch", "^torchaudio"],
      "groupName": "pytorch packages"
    }
  ],
  "regexManagers": [
    {
      "description": "Update _VERSION variables in Dockerfiles",
      "fileMatch": [
        "(^|/|\\.)Dockerfile$",
        "(^|/)Dockerfile\\.[^/]*$"
      ],
      "matchStrings": [
        "# renovate: datasource=(?<datasource>[a-z-]+?) depName=(?<depName>.+?)(?: versioning=(?<versioning>[a-z-]+?))?\\s(?:ENV|ARG) .+?_VERSION=(?<currentValue>.+?)\\s"
      ],
      "versioningTemplate": "{{#if versioning}}{{versioning}}{{else}}semver{{/if}}"
    }
  ],
  "prConcurrentLimit": 0,
  "prCreation": "immediate",
  "prHourlyLimit": 0,
  "pruneStaleBranches": true,
  "rangeStrategy": "pin",
  "rollbackPrs": true,
  "semanticCommits": true,
  "semanticCommitType": "chore",
  "separateMajorMinor": true,
  "separateMinorPatch": true,
  "separateMultipleMajor": true,
  "unpublishSafe": true,
  "updateNotScheduled": true
}
